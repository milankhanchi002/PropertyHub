{"ast":null,"code":"const BASE_URL = \"http://localhost:8080/api\";\nfunction getToken() {\n  return localStorage.getItem(\"token\");\n}\nfunction authHeader() {\n  const token = getToken();\n  return token ? {\n    Authorization: `Bearer ${token}`\n  } : {};\n}\n\n// Auth APIs\nexport async function registerUser(data) {\n  const res = await fetch(`${BASE_URL}/auth/register`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  return res.json();\n}\nexport async function loginUser(data) {\n  const res = await fetch(`${BASE_URL}/auth/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  return res.json();\n}\n\n// Admin APIs\nexport async function getProperties(token) {\n  const res = await fetch(`${BASE_URL}/admin/properties`, {\n    headers: {\n      ...authHeader()\n    }\n  });\n  return res.json();\n}\nexport async function toggleProperty(token, id) {\n  const res = await fetch(`${BASE_URL}/admin/properties/${id}/toggle`, {\n    method: \"PUT\",\n    headers: {\n      ...authHeader()\n    }\n  });\n  return res.json();\n}\n\n// Property APIs\nexport async function getAllProperties(params = {}) {\n  const query = new URLSearchParams(params).toString();\n  const url = query ? `${BASE_URL}/properties?${query}` : `${BASE_URL}/properties`;\n  const res = await fetch(url);\n  return res.json();\n}\nexport async function getProperty(id) {\n  const res = await fetch(`${BASE_URL}/properties/${id}`);\n  return res.json();\n}\nexport async function createProperty(data) {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const ownerId = user === null || user === void 0 ? void 0 : user.id;\n  const res = await fetch(`${BASE_URL}/properties?ownerId=${ownerId}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...authHeader()\n    },\n    body: JSON.stringify(data)\n  });\n  return res.json();\n}\n\n// Visit APIs\nexport async function bookVisit(propertyId, data) {\n  const res = await fetch(`${BASE_URL}/visits/book?propertyId=${propertyId}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  return res.json();\n}","map":{"version":3,"names":["BASE_URL","getToken","localStorage","getItem","authHeader","token","Authorization","registerUser","data","res","fetch","method","headers","body","JSON","stringify","json","loginUser","getProperties","toggleProperty","id","getAllProperties","params","query","URLSearchParams","toString","url","getProperty","createProperty","user","parse","ownerId","bookVisit","propertyId"],"sources":["/Users/milankhanchi/Downloads/propertyhub_project/frontend/src/api.js"],"sourcesContent":["const BASE_URL = \"http://localhost:8080/api\";\n\nfunction getToken() {\n  return localStorage.getItem(\"token\");\n}\n\nfunction authHeader() {\n  const token = getToken();\n  return token ? { Authorization: `Bearer ${token}` } : {};\n}\n\n// Auth APIs\nexport async function registerUser(data) {\n  const res = await fetch(`${BASE_URL}/auth/register`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  });\n  return res.json();\n}\n\nexport async function loginUser(data) {\n  const res = await fetch(`${BASE_URL}/auth/login`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  });\n  return res.json();\n}\n\n// Admin APIs\nexport async function getProperties(token) {\n  const res = await fetch(`${BASE_URL}/admin/properties`, {\n    headers: { ...authHeader() },\n  });\n  return res.json();\n}\n\nexport async function toggleProperty(token, id) {\n  const res = await fetch(`${BASE_URL}/admin/properties/${id}/toggle`, {\n    method: \"PUT\",\n    headers: { ...authHeader() },\n  });\n  return res.json();\n}\n\n// Property APIs\nexport async function getAllProperties(params = {}) {\n  const query = new URLSearchParams(params).toString();\n  const url = query ? `${BASE_URL}/properties?${query}` : `${BASE_URL}/properties`;\n  const res = await fetch(url);\n  return res.json();\n}\n\nexport async function getProperty(id) {\n  const res = await fetch(`${BASE_URL}/properties/${id}`);\n  return res.json();\n}\n\nexport async function createProperty(data) {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const ownerId = user?.id;\n  const res = await fetch(`${BASE_URL}/properties?ownerId=${ownerId}`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\", ...authHeader() },\n    body: JSON.stringify(data),\n  });\n  return res.json();\n}\n\n// Visit APIs\nexport async function bookVisit(propertyId, data) {\n  const res = await fetch(`${BASE_URL}/visits/book?propertyId=${propertyId}`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  });\n  return res.json();\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}