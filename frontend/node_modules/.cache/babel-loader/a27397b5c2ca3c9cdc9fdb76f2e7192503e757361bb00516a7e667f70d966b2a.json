{"ast":null,"code":"import React from'react';import{Routes,Route,Link}from'react-router-dom';import PropertyList from'./components/PropertyList';import PropertyForm from'./components/PropertyForm';import PropertyDetail from'./components/PropertyDetail';import AdminPanel from'./components/AdminPanel';import AuthForm from'./components/AuthForm';import Dashboard from'./components/Dashboard';import{ToastProvider}from'./components/Toast';import'./style.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _user,_user2,_user3,_user4;let user=null;try{const storedUser=localStorage.getItem('user');user=storedUser?JSON.parse(storedUser):null;}catch(err){console.warn(\"Invalid user data in localStorage, clearing it.\");localStorage.removeItem('user');localStorage.removeItem('token');user=null;}function logout(){localStorage.removeItem('token');localStorage.removeItem('user');window.location.href='/';}return/*#__PURE__*/_jsx(ToastProvider,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"div\",{className:\"logo-text\",children:\"PropertyHub\"})}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"\\uD83C\\uDFE0 Properties\"}),user&&/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:\"\\uD83D\\uDCCA Dashboard\"}),(((_user=user)===null||_user===void 0?void 0:_user.role)===\"OWNER\"||((_user2=user)===null||_user2===void 0?void 0:_user2.role)===\"ADMIN\")&&/*#__PURE__*/_jsx(Link,{to:\"/post\",children:\"\\u2795 List Property\"}),((_user3=user)===null||_user3===void 0?void 0:_user3.role)===\"ADMIN\"&&/*#__PURE__*/_jsx(Link,{to:\"/admin\",children:\"\\u2699\\uFE0F Admin\"}),!user?/*#__PURE__*/_jsx(Link,{to:\"/auth\",children:\"\\uD83D\\uDD10 Sign In\"}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:'#4a5568',fontSize:'0.875rem'},children:[\"Welcome, \",user.name]}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:logout,children:\"Sign Out\"})]})]})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{className:\"hero-properties\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hero-text\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Find Your Perfect Home\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.25rem',color:'#4a5568',marginTop:'1rem'},children:\"Discover amazing properties in your dream location\"})]})}),/*#__PURE__*/_jsx(PropertyList,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post\",element:user?/*#__PURE__*/_jsx(PropertyForm,{}):/*#__PURE__*/_jsx(AuthForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/property/:id\",element:/*#__PURE__*/_jsx(PropertyDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:((_user4=user)===null||_user4===void 0?void 0:_user4.role)===\"ADMIN\"?/*#__PURE__*/_jsx(AdminPanel,{}):/*#__PURE__*/_jsx(AuthForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:/*#__PURE__*/_jsx(AuthForm,{})})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',maxWidth:'1200px',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"p\",{children:\" 2025 PropertyHub. All rights reserved.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'2rem'},children:[/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:'#4a5568',textDecoration:'none'},children:\"Properties\"}),/*#__PURE__*/_jsx(Link,{to:\"/auth\",style:{color:'#4a5568',textDecoration:'none'},children:\"Sign In\"}),user&&/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",style:{color:'#4a5568',textDecoration:'none'},children:\"Dashboard\"})]})]})})]})});}export default App;","map":{"version":3,"names":["React","Routes","Route","Link","PropertyList","PropertyForm","PropertyDetail","AdminPanel","AuthForm","Dashboard","ToastProvider","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_user","_user2","_user3","_user4","user","storedUser","localStorage","getItem","JSON","parse","err","console","warn","removeItem","logout","window","location","href","children","className","to","style","textDecoration","role","display","alignItems","gap","color","fontSize","name","onClick","path","element","marginTop","justifyContent","maxWidth","margin"],"sources":["/Users/milankhanchi/PropertyHubFinal/PropertyHub/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { Routes, Route, Link } from 'react-router-dom';\nimport PropertyList from './components/PropertyList';\nimport PropertyForm from './components/PropertyForm';\nimport PropertyDetail from './components/PropertyDetail';\nimport AdminPanel from './components/AdminPanel';\nimport AuthForm from './components/AuthForm';\nimport Dashboard from './components/Dashboard';\nimport { ToastProvider } from './components/Toast';\n\nimport './style.css';\n\nfunction App() {\n  let user = null;\n  try {\n    const storedUser = localStorage.getItem('user');\n    user = storedUser ? JSON.parse(storedUser) : null;\n  } catch (err) {\n    console.warn(\"Invalid user data in localStorage, clearing it.\");\n    localStorage.removeItem('user');\n    localStorage.removeItem('token');\n    user = null;\n  }\n\n  function logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/';\n  }\n\n  return (\n    <ToastProvider>\n      <div className=\"app-container\">\n        {/* Navbar */}\n        <header className=\"navbar\">\n          <Link to=\"/\" style={{ textDecoration: 'none' }}>\n            <div className=\"logo-text\">PropertyHub</div>\n          </Link>\n\n          <nav>\n            <Link to=\"/\">üè† Properties</Link>\n            {user && <Link to=\"/dashboard\">üìä Dashboard</Link>}\n            {(user?.role === \"OWNER\" || user?.role === \"ADMIN\") && <Link to=\"/post\">‚ûï List Property</Link>}\n            {user?.role === \"ADMIN\" && <Link to=\"/admin\">‚öôÔ∏è Admin</Link>}\n            {!user ? (\n              <Link to=\"/auth\">üîê Sign In</Link>\n            ) : (\n              <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n                <span style={{ color: '#4a5568', fontSize: '0.875rem' }}>Welcome, {user.name}</span>\n                <button className=\"logout-btn\" onClick={logout}>Sign Out</button>\n              </div>\n            )}\n          </nav>\n        </header>\n\n        {/* Routes */}\n        <Routes>\n          <Route path=\"/\" element={\n            <>\n              <section className=\"hero-properties\">\n                <div className=\"hero-text\">\n                  <h1>Find Your Perfect Home</h1>\n                  <p style={{ fontSize: '1.25rem', color: '#4a5568', marginTop: '1rem' }}>\n                    Discover amazing properties in your dream location\n                  </p>\n                </div>\n              </section>\n              <PropertyList />\n            </>\n          } />\n          <Route path=\"/dashboard\" element={<Dashboard />} />\n          <Route path=\"/post\" element={user ? <PropertyForm /> : <AuthForm />} />\n          <Route path=\"/property/:id\" element={<PropertyDetail />} />\n          <Route path=\"/admin\" element={user?.role === \"ADMIN\" ? <AdminPanel /> : <AuthForm />} />\n          <Route path=\"/auth\" element={<AuthForm />} />\n        </Routes>\n\n        {/* Footer */}\n        <footer className=\"footer\">\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', maxWidth: '1200px', margin: '0 auto' }}>\n            <p> 2025 PropertyHub. All rights reserved.</p>\n            <div style={{ display: 'flex', gap: '2rem' }}>\n              <Link to=\"/\" style={{ color: '#4a5568', textDecoration: 'none' }}>Properties</Link>\n              <Link to=\"/auth\" style={{ color: '#4a5568', textDecoration: 'none' }}>Sign In</Link>\n              {user && <Link to=\"/dashboard\" style={{ color: '#4a5568', textDecoration: 'none' }}>Dashboard</Link>}\n            </div>\n          </div>\n        </footer>\n      </div>\n    </ToastProvider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}